{"ast":null,"code":"import _slicedToArray from\"/Users/yoni/Desktop/Final Assignment - Front End/cost-manager-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Chart as ChartJS,ArcElement,Tooltip,Legend}from'chart.js';import{Pie}from'react-chartjs-2';import'./ReportView.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend);function ReportView(props){var year=props.year,month=props.month;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),costs=_useState2[0],setCosts=_useState2[1];useEffect(function(){// retrieve the data from local storage \nvar data=localStorage.getItem('costs');if(data){// set it to the state only with same year and month\nvar _costs=JSON.parse(data).filter(function(cost){return cost.year==year&&cost.month==month;});// calculate the total sum for each category\nvar food=_costs.filter(function(cost){return cost.category=='food';}).reduce(function(sum,cost){return sum+cost.sum;},0);var health=_costs.filter(function(cost){return cost.category=='health';}).reduce(function(sum,cost){return sum+cost.sum;},0);var housing=_costs.filter(function(cost){return cost.category=='housing';}).reduce(function(sum,cost){return sum+cost.sum;},0);var sport=_costs.filter(function(cost){return cost.category=='sport';}).reduce(function(sum,cost){return sum+cost.sum;},0);var education=_costs.filter(function(cost){return cost.category=='education';}).reduce(function(sum,cost){return sum+cost.sum;},0);var transportation=_costs.filter(function(cost){return cost.category=='transportation';}).reduce(function(sum,cost){return sum+cost.sum;},0);var other=_costs.filter(function(cost){return cost.category=='other';}).reduce(function(sum,cost){return sum+cost.sum;},0);setCosts([food,health,housing,sport,education,transportation,other].map(function(cost){return parseFloat(cost);}));}else{// if no data, set the state to an empty array\nsetCosts([]);}},[]);var data={labels:['Food','Health','Housing','Sport','Education','Transportation','Other'],datasets:[{data:costs,backgroundColor:['#FF9E9E','#96C5F5','#FFFF92','#96F5F5','#F57C7C','#81C784','#9E96FF'],hoverBackgroundColor:['#FF6384','#36A2EB','#FFCE56','#00b8d4','#e53935','#43A047','#6200EE']}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"viewCont\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Showing Report for \",month,\"/\",year]}),/*#__PURE__*/_jsx(Pie,{data:data,options:{plugins:{legend:{position:'bottom'},title:{display:true,text:'Costs by Category'}}}}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sum\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Food\"}),/*#__PURE__*/_jsx(\"td\",{children:costs[0]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Health\"}),/*#__PURE__*/_jsx(\"td\",{children:costs[1]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Housing\"}),/*#__PURE__*/_jsx(\"td\",{children:costs[2]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Sport\"}),/*#__PURE__*/_jsx(\"td\",{children:costs[3]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Education\"}),/*#__PURE__*/_jsx(\"td\",{children:costs[4]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Transportation\"}),/*#__PURE__*/_jsx(\"td\",{children:costs[5]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Other\"}),/*#__PURE__*/_jsx(\"td\",{children:costs[6]})]})]})]})]});}export default ReportView;","map":{"version":3,"names":["React","useState","useEffect","Chart","ChartJS","ArcElement","Tooltip","Legend","Pie","register","ReportView","props","year","month","costs","setCosts","data","localStorage","getItem","JSON","parse","filter","cost","food","category","reduce","sum","health","housing","sport","education","transportation","other","map","parseFloat","labels","datasets","backgroundColor","hoverBackgroundColor","plugins","legend","position","title","display","text"],"sources":["/Users/yoni/Desktop/Final Assignment - Front End/cost-manager-front/src/ReportView.js"],"sourcesContent":["import React,{useState, useEffect} from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { Pie } from 'react-chartjs-2';\nimport './ReportView.css';\n\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nfunction ReportView(props) {\n  const { year, month } = props;\n  const [costs, setCosts] = useState([]);\n\n  useEffect(() => {\n    // retrieve the data from local storage \n    const data = localStorage.getItem('costs');\n    if (data) {\n      // set it to the state only with same year and month\n      const costs = JSON.parse(data).filter(cost => cost.year == year && cost.month == month);\n\n      // calculate the total sum for each category\n      const food = costs.filter(cost => cost.category == 'food').reduce((sum, cost) => sum + cost.sum, 0);\n      const health = costs.filter(cost => cost.category == 'health').reduce((sum, cost) => sum + cost.sum, 0);\n      const housing = costs.filter(cost => cost.category == 'housing').reduce((sum, cost) => sum + cost.sum, 0);\n      const sport = costs.filter(cost => cost.category == 'sport').reduce((sum, cost) => sum + cost.sum, 0);\n      const education = costs.filter(cost => cost.category == 'education').reduce((sum, cost) => sum + cost.sum, 0);\n      const transportation = costs.filter(cost => cost.category == 'transportation').reduce((sum, cost) => sum + cost.sum, 0);\n      const other = costs.filter(cost => cost.category == 'other').reduce((sum, cost) => sum + cost.sum, 0);\n\n      setCosts([food, health, housing, sport, education, transportation, other].map(cost => parseFloat(cost)));\n    } else {\n      // if no data, set the state to an empty array\n      setCosts([]);\n    }\n  }, []);\n \n  const data = {\n    labels: ['Food', 'Health', 'Housing', 'Sport', 'Education', 'Transportation', 'Other'],\n    datasets: [\n      {\n        data: costs,\n        backgroundColor: [\n          '#FF9E9E',\n          '#96C5F5',\n          '#FFFF92',\n          '#96F5F5',\n          '#F57C7C',\n          '#81C784',\n          '#9E96FF'\n        ],\n        hoverBackgroundColor: [\n          '#FF6384',\n          '#36A2EB',\n          '#FFCE56',\n          '#00b8d4',\n          '#e53935',\n          '#43A047',\n          '#6200EE',\n        ],\n      },\n    ],\n  };\n\n  return (\n    <div className='viewCont'>\n      <p>Showing Report for {month}/{year}</p>\n      <Pie data={data}\n        options={{\n          plugins: {\n            legend: {\n              position: 'bottom',\n            },\n            title: {\n              display: true,\n              text: 'Costs by Category',\n            },\n          },\n        }}\n      />\n      <table>\n        <thead>\n          <tr>\n            <th>Category</th>\n            <th>Sum</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Food</td>\n            <td>{costs[0]}</td>\n          </tr>\n          <tr>\n            <td>Health</td>\n            <td>{costs[1]}</td>\n          </tr>\n          <tr>\n            <td>Housing</td>\n            <td>{costs[2]}</td>\n          </tr>\n          <tr>\n            <td>Sport</td>\n            <td>{costs[3]}</td>\n          </tr>\n          <tr>\n            <td>Education</td>\n            <td>{costs[4]}</td>\n          </tr>\n          <tr>\n            <td>Transportation</td>\n            <td>{costs[5]}</td>\n          </tr>\n          <tr>\n            <td>Other</td>\n            <td>{costs[6]}</td>\n          </tr>\n        </tbody>\n      </table>\n\n    </div>\n  );\n}\n\nexport default ReportView;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}